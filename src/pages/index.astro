---
import ArticleList from "@components/article/article-list.astro";
import Divider from "@components/atoms/divider.astro";
import PageView from "@components/atoms/page-view.astro";
import NewsletterForm from "@components/newsletter/newsletter-form.astro";
import { getAllPublishedArticles } from "@data/articles";
import PageLayout from "@layouts/page-layout.astro";
import SeoPage from "@layouts/seo-page.astro";
import { CONFIG } from "const";

const allBlogPosts = await getAllPublishedArticles();
---

<PageLayout>
    <SeoPage slot="head" title={CONFIG.author} description={CONFIG.description} />
    <ArticleList
        title="Latest Insights: Coding & Beyond"
        articles={allBlogPosts}
        pageDescription={CONFIG.homeDescription}
    />
    <Divider classes="mb-10 mt-6" />
    <NewsletterForm />
</PageLayout>

<PageView slug="home" />

<script type="application/ld+json">
    {
        "@context": "https://schema.org/",
        "@type": "BreadcrumbList",
        "itemListElement": [
            {
                "@type": "ListItem",
                "position": 1,
                "name": "Dev articles",
                "item": "https://flavienbonvin.com/articles/dev"
            },
            {
                "@type": "ListItem",
                "position": 2,
                "name": "Beyond the web dev",
                "item": "https://flavienbonvin.com/articles/beyond"
            },
            {
                "@type": "ListItem",
                "position": 3,
                "name": "About Flavien Bonvin",
                "item": "https://flavienbonvin.com/about"
            }
        ]
    }
</script>
